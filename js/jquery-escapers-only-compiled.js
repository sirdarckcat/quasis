(function(){function c(){}c.prototype.toString=function(){return this.content};function e(){function a(a){this.content=a}var b=a.prototype=new c;b.constructor=a;b.contentKind=0;return a}var f=e(0),g=e(1),h=e(2);SanitizedHtml=f;SanitizedJsStrChars=g;SanitizedUri=h;function i(a){return a&&a.contentKind===0?a:a instanceof Array?a.map(i).join(""):a===void 0?"":String(a).replace(j,k)}function l(a){return a&&a.contentKind===0?String(a.content).replace(m,k):String(a).replace(j,k)}
function n(a){a&&a.contentKind===0?(a=String(a.content).replace(o,""),a=String(a).replace(m,k)):a=String(a).replace(j,k);return a}function p(a){a&&a.contentKind===0?(a=String(a.content).replace(o,""),a=String(a).replace(q,k)):a=String(a).replace(r,k);return a}function s(a){var a=String(a),a=!t.test(a)?"zSafehtmlz":a,b,d=a.indexOf("=");return d>=0&&(b=a.charAt(a.length-1))!='"'&&b!="'"?a.substring(0,d+1)+'"'+a.substring(d+1)+'"':a}function u(a){a=String(a);return a=!v.test(a)?"zSafehtmlz":a}
function w(a){return a&&a.contentKind===1?a.content:String(a).replace(x,y)}function z(a){var b;return a==null?" null ":(b=typeof a)=="boolean"||b=="number"?" "+a+" ":"'"+w(a)+"'"}function A(a){return String(a).replace(B,y)}var C=/['-)]/g;function D(a){return"%"+a.charCodeAt(0).toString(16)}function E(a){if(a&&a.contentKind===2)return F(a);a=encodeURIComponent(a);return a.replace(C,D)}
function F(a){a=String(a);if(/[\0- "<>\\{}\x7f\x85\xa0\u2028\u2029\uff00-\uffff]|%(?![\da-f]{2})/i.test(a)){for(var a=a.split(/(%[\da-f]{2}|[#$&+,/:;=?@[\]])/i),b=a.length-1;b>=0;b-=2)a[b]=encodeURIComponent(a[b]);a=a.join("")}return a.replace(C,D)}function G(a){var b=String(a);return H.test(b)?F(a):"#zSafehtmlz"}function I(a){return String(a).replace(J,K)}function L(a){a==null?a="":(a=String(a),a=!M.test(a)?"zSafehtmlz":a);return a}var N={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"}
function k(a){return N[a]||(N[a]="&#"+a.charCodeAt(0)+";")}var O={"\t":"\\t","\n":"\\n","\x0c":"\\f","\r":"\\r","/":"\\/","\\":"\\\\"};function y(a){var b;if(!(b=O[a])){b=a.charCodeAt(0).toString(16);var d=b.length<=2?"\\x00":"\\u0000";b=d.substring(0,d.length-b.length)+b;b=O[a]=b}return b}var P={};function K(a){return P[a]||(P[a]="\\"+a.charCodeAt(0).toString(16)+" ")}
var j=/[\0"&'<>]/g,m=/[\0"'<>]/g,r=/[\0\t-\r "&'/<->`\x85\xa0\u2028\u2029-]/g,q=/[\0\t-\r "'/<->`\x85\xa0\u2028\u2029-]/g,x=/[\0\b-\r"&'/<->\\\x85\u2028\u2029]/g,B=/[\0\b-\r"$&-/:<-?[-^{-}\x85\u2028\u2029]/g,J=/[\0\b-\r"&-*/:->@\\{}\x85\xa0\u2028\u2029]/g,M=/^(?!-*(?:expression|(?:moz-)?binding))(?:[#.]?-?\w[\w-]*(?:-[_a-z][\w-]*)*-?|-?(?:\d+(?:\.\d*)?|\.\d)(?:[a-z]{1,2}|%)?|!important|)$/i,H=/^(?:(?:https?|mailto):|[^#&/:?]*(?:[#/?]|$))/i,t=/^(?!style|on|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|src|usemap)(?:[\w$:-]*|dir=(?:ltr|rtl))$/i,
v=/^(?!script|style|title|textarea|xmp|no)[\w$:-]*$/i,o=/<(?:!|\/?[a-z])(?:[^"'>]|"[^"]*"|'[^']*')*>/gi,Q=[i,l,n,p,u,s,w,z,A,I,L,E,F,G];$.extend($.encode,Q)})()
